import{d as x,h as _,i as $,n as T,w as e,y as l,Y as m,m as Y,t as k,_ as B,j as b,J as F,K as I,o as M,b as f,k as t,l as h,Z as v}from"./index.66cc4c36.js";import{C as N}from"./index.bcb7ed0f.js";import{g as A}from"./board.8218e14e.js";const L={class:"chart-card-header"},O={class:"meta"},V={class:"chart-card-title"},H={class:"chart-card-action"},R={class:"total"},j={class:"chart-card-content"},z={class:"content-fix"},D={class:"chart-card-footer"},E={class:"field"},J=x({__name:"chartCard",props:{title:{type:String,required:!0},total:{type:Number,required:!1},loading:{type:Boolean,required:!1}},setup(u){const a=u;return(n,s)=>{const d=_("a-card");return $(),T(d,{loading:a.loading,"body-style":{padding:"20px 24px 8px"}},{default:e(()=>[l("div",L,[l("div",O,[l("span",V,[m(n.$slots,"title",{},()=>[Y(k(a.title),1)])]),l("span",H,[m(n.$slots,"action")])]),l("div",R,[m(n.$slots,"total",{},()=>[l("span",null,k(a.total),1)])])]),l("div",j,[l("div",z,[m(n.$slots,"content")])]),l("div",D,[l("div",E,[m(n.$slots,"footer")])])]),_:3},8,["loading"])}}}),y=B(J,[["__file","F:/inf/Yearning/gemini-next/src/components/chartCard/chartCard.vue"]]),K={class:"antv-chart-mini"},Q={class:"chart-wrapper"},U=["id"],Z=x({__name:"miniArea",props:{containerId:{type:String,required:!0},color:{type:String,required:!0},type:{type:String,required:!0}},setup(u,{expose:a}){const n=u,s=c=>{let r=[];for(let o of c)r.push({x:o.date,totals:n.type==="query"?o.total_query:o.total_order});return r};return a({makeBuild:c=>{const r=new N({container:n.containerId,autoFit:!0,height:46});r.forceFit(),r.axis(!1),r.data(s(c)),r.tooltip({showCrosshairs:!0,shared:!0}),r.line().position("x*totals").shape("smooth"),r.area().position("x*totals").shape("smooth"),r.theme({styleSheet:{brandColor:n.color}}),r.render()}}),(c,r)=>($(),b("div",K,[l("div",Q,[l("div",{id:n.containerId},null,8,U)])]))}});const S=B(Z,[["__scopeId","data-v-e1addf64"],["__file","F:/inf/Yearning/gemini-next/src/components/chartCard/miniArea.vue"]]);function G(){return F.get(`${I}/dash/banner`)}function P(){return F.get(`${I}/dash/top`)}const W=["id"],X=x({__name:"miniBar",props:{containerId:{type:String,required:!0},color:{type:String,required:!0}},setup(u){const a=u;return M(async()=>{const{data:n}=await P();n.payload.sort((d,c)=>d.count-c.count);const s=new N({container:a.containerId,autoFit:!0,height:450});s.data(n.payload),s.scale({value:{alias:"SQL\u6267\u884C\u6570"}}),s.axis("source",{title:null,tickLine:null,line:null}),s.axis("count",!1),s.legend(!1),s.coordinate().transpose(),s.interval().position("source*count").size(26),s.interaction("element-active"),s.theme({styleSheet:{brandColor:a.color}}),s.render()}),(n,s)=>($(),b("div",{id:a.containerId},null,8,W))}});const tt=B(X,[["__scopeId","data-v-e781b70c"],["__file","F:/inf/Yearning/gemini-next/src/components/chartCard/miniBar.vue"]]),et=l("br",null,null,-1),ot=["innerHTML"],g=!1,at=x({__name:"home",setup(u){const a=f({total_order:[]}),n=f(""),s=f(),d=f(),c=async()=>{const{data:o}=await G();a.value=o.payload,s.value.makeBuild(a.value.total_order),d.value.makeBuild(a.value.total_order)},r=async()=>{const{data:o}=await A();n.value=o.payload};return M(()=>{c(),r()}),(o,nt)=>{const i=_("a-col"),w=_("a-progress"),C=_("a-row"),p=_("a-statistic"),q=_("a-card");return $(),b("div",null,[t(C,{gutter:24},{default:e(()=>[t(i,{xs:24,md:12,xl:6,style:{marginBottom:"24px"}},{default:e(()=>[t(y,{loading:g,title:o.$t("common.order")+o.$t("common.sum"),total:a.value.order},{action:e(()=>[t(h(v))]),content:e(()=>[t(S,{ref_key:"order",ref:d,"container-id":"order",color:"#2094F3",type:"order"},null,512)]),_:1},8,["title","total"])]),_:1}),t(i,{xs:24,md:12,xl:6,style:{marginBottom:"24px"}},{default:e(()=>[t(y,{loading:g,title:o.$t("common.query")+o.$t("common.sum"),total:a.value.query},{action:e(()=>[t(h(v))]),content:e(()=>[t(S,{ref_key:"query",ref:s,"container-id":"query",color:"#Ff9900",type:"query"},null,512)]),_:1},8,["title","total"])]),_:1}),t(i,{xs:24,md:12,xl:6,style:{marginBottom:"24px"}},{default:e(()=>[t(y,{loading:g,title:o.$t("common.table.source")+o.$t("common.sum"),total:a.value.source},{action:e(()=>[t(h(v))]),content:e(()=>[t(w,{percent:58,status:"active","show-info":!1,"stroke-width":15,"stroke-color":{"0%":"#108ee9","100%":"#87d068"}})]),_:1},8,["title","total"])]),_:1}),t(i,{xs:24,md:12,xl:6,style:{marginBottom:"24px"}},{default:e(()=>[t(y,{loading:g,title:o.$t("menu.manage.user")+o.$t("common.sum"),total:a.value.user},{action:e(()=>[t(h(v))]),content:e(()=>[t(w,{percent:85,status:"active","show-info":!1,"stroke-width":15,"stroke-color":{"0%":"#108ee9","100%":"#87d068"}})]),_:1},8,["title","total"])]),_:1})]),_:1}),t(q,{style:{"text-align":"center"}},{default:e(()=>[t(C,{gutter:24},{default:e(()=>[t(i,{xs:24,md:12,xl:6},{default:e(()=>[t(p,{title:o.$t("common.bash.self.dml"),value:a.value.self_dml},null,8,["title","value"])]),_:1}),t(i,{xs:24,md:12,xl:6},{default:e(()=>[t(p,{title:o.$t("common.bash.self.ddl"),value:a.value.self_ddl},null,8,["title","value"])]),_:1}),t(i,{xs:24,md:12,xl:6},{default:e(()=>[t(p,{title:o.$t("common.bash.self.query"),value:a.value.self_query},null,8,["title","value"])]),_:1}),t(i,{xs:24,md:12,xl:6},{default:e(()=>[t(p,{title:o.$t("common.bash.self.audit"),value:a.value.self_audit},null,8,["title","value"])]),_:1})]),_:1})]),_:1}),et,t(C,{gutter:24},{default:e(()=>[t(i,{xs:24,md:24,xl:16,style:{marginBottom:"24px"}},{default:e(()=>[t(q,{title:o.$t("common.board")},{default:e(()=>[l("div",{innerHTML:n.value},null,8,ot)]),_:1},8,["title"])]),_:1}),t(i,{xs:24,md:24,xl:8,style:{marginBottom:"24px"}},{default:e(()=>[t(q,{title:o.$t("common.table.source")+" Top10"},{default:e(()=>[t(tt,{"container-id":"trend",color:"#Ff9900"})]),_:1},8,["title"])]),_:1})]),_:1})])}}});const it=B(at,[["__file","F:/inf/Yearning/gemini-next/src/views/home/home.vue"]]);export{it as default};
