import{b as p,A,V as N,l as C,W as G,X as U}from"./index.66cc4c36.js";function g(e){return G()?(U(e),!0):!1}var z;const h=typeof window<"u",H=e=>typeof e=="string",k=()=>{};h&&((z=window==null?void 0:window.navigator)==null?void 0:z.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function V(e,t=1e3,n={}){const{immediate:l=!0,immediateCallback:s=!1}=n;let o=null;const r=p(!1);function c(){o&&(clearInterval(o),o=null)}function f(){r.value=!1,c()}function v(){C(t)<=0||(r.value=!0,s&&e(),c(),o=setInterval(e,C(t)))}if(l&&h&&v(),A(t)){const i=N(t,()=>{l&&h&&v()});g(i)}return g(f),{isActive:r,pause:f,resume:v}}function S(e){var t;const n=C(e);return(t=n==null?void 0:n.$el)!=null?t:n}const $=h?window:void 0,X=h?window.document:void 0;h&&window.navigator;h&&window.location;function j(...e){let t,n,l,s;if(H(e[0])?([n,l,s]=e,t=$):[t,n,l,s]=e,!t)return k;let o=k;const r=N(()=>S(t),f=>{o(),f&&(f.addEventListener(n,l,s),o=()=>{f.removeEventListener(n,l,s),o=k})},{immediate:!0,flush:"post"}),c=()=>{r(),o()};return g(c),c}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P="__vueuse_ssr_handlers__";T[P]=T[P]||{};T[P];var L=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Q=(e,t)=>{var n={};for(var l in e)B.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&L)for(var l of L(e))t.indexOf(l)<0&&K.call(e,l)&&(n[l]=e[l]);return n};function J(e,t,n={}){const l=n,{window:s=$}=l,o=Q(l,["window"]);let r;const c=s&&"ResizeObserver"in s,f=()=>{r&&(r.disconnect(),r=void 0)},v=N(()=>S(e),a=>{f(),c&&s&&a&&(r=new ResizeObserver(t),r.observe(a,o))},{immediate:!0,flush:"post"}),i=()=>{f(),v()};return g(i),{isSupported:c,stop:i}}function ee(e,t={width:0,height:0},n={}){const l=p(t.width),s=p(t.height);return J(e,([o])=>{l.value=o.contentRect.width,s.value=o.contentRect.height},n),N(()=>S(e),o=>{l.value=o?t.width:0,s.value=o?t.height:0}),{width:l,height:s}}const q=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function ne(e,t={}){const{document:n=X,autoExit:l=!1}=t,s=e||(n==null?void 0:n.querySelector("html")),o=p(!1);let r=!1,c=q[0];if(!n)r=!1;else for(const w of q)if(w[1]in n){c=w,r=!0;break}const[f,v,i,,a]=c;async function m(){!r||(n!=null&&n[i]&&await n[v](),o.value=!1)}async function E(){if(!r)return;await m();const w=S(s);w&&(await w[f](),o.value=!0)}async function F(){o.value?await m():await E()}return n&&j(n,a,()=>{o.value=!!(n!=null&&n[i])},!1),l&&g(m),{isSupported:r,isFullscreen:o,enter:E,exit:m,toggle:F}}var D;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(D||(D={}));function M(e){return e===!0?{}:e}function te(e,t={}){const{onConnected:n,onDisconnected:l,onError:s,onMessage:o,immediate:r=!0,autoClose:c=!0,protocols:f=[]}=t,v=p(null),i=p("CONNECTING"),a=p();let m,E,F=!1,w=0,O=[];const y=(u=1e3,d)=>{!a.value||(F=!0,m==null||m(),a.value.close(u,d))},I=()=>{if(O.length&&a.value&&i.value==="OPEN"){for(const u of O)a.value.send(u);O=[]}},W=(u,d=!0)=>!a.value||i.value!=="OPEN"?(d&&O.push(u),!1):(I(),a.value.send(u),!0),_=()=>{const u=new WebSocket(e,f);a.value=u,i.value="CONNECTING",F=!1,u.onopen=()=>{i.value="OPEN",n==null||n(u),E==null||E(),I()},u.onclose=d=>{if(i.value="CLOSED",a.value=void 0,l==null||l(u,d),!F&&t.autoReconnect){const{retries:b=-1,delay:R=1e3,onFailed:x}=M(t.autoReconnect);w+=1,typeof b=="number"&&(b<0||w<b)||typeof b=="function"&&b()?setTimeout(_,R):x==null||x()}},u.onerror=d=>{s==null||s(u,d)},u.onmessage=d=>{v.value=d.data,o==null||o(u,d)}};if(t.heartbeat){const{message:u="ping",interval:d=1e3}=M(t.heartbeat),{pause:b,resume:R}=V(()=>W(u,!1),d,{immediate:!1});m=b,E=R}return r&&_(),c&&(j(window,"beforeunload",()=>y()),g(y)),{data:v,status:i,close:y,send:W,open:()=>{y(),w=0,_()},ws:a}}export{ee as a,te as b,ne as u};
